{% load static %}
<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>MoReSys</title>

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
            integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
            crossorigin="anonymous">

        <link rel="stylesheet"href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
            integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
            crossorigin="anonymous">

        <style>
            .card:hover {
                background-color: #f9f9f9;
            }
            .search-bar {
                width: 500px !important;
                display: block;
            }
            datalist {
                margin-left: auto;
                margin-right: auto;
                width: 500px !important;

            }
            input::-webkit-calendar-picker-indicator {
                display: none;
            }
        </style>
    </head>

    <body>

        <!-- Header -->

        <div class="bg-dark">
            <div class="container bg-dark">
                <nav class="navbar navbar-expand-lg">
                    <a class="h2 text-light">MoReSys</a>
                </nav>
            </div>
        </div>

        <!-- Search Bar -->

        <div class="container my-5">
            <div class="row">
                <div class="search-bar my-3 mx-auto">
                    <input list="results" class="form-control mr-sm-2"
                    id="nameField" name="name" placeholder="Start typing name.."
                    onkeyup="search()" onkeypress="search()">
                    <datalist id="results"> </datalist>
                </div>
            </div>
        </div>

        <!-- Movies -->

            <div class="container">
                <div class="row p-4">
                    {% for movie in movies %}
                        <div class="col-md-4 col-sm-6 col-12 mb-5 px-2">
                            <a href="movie/{{ movie.movie_id }}">
                                <div class="card rounded-0 card-hover text-dark">
                                    <img class="card-img-top" src="https://image.tmdb.org/t/p/w533_and_h300_bestv2{{ movie.poster_path }}">
                                    <div class="card-body p-3">
                                        <span class="card-title float-left mb-0 font-weight-bold"> {{ movie.title }} ({{ movie.release_year }}) </span>
                                        <span class="float-right"> {{ movie.runtime }} mins </span>
                                    </div>
                                </div>
                            </a>
                        </div>
                    {% endfor %}
                </div>
            </div>

        <!-- Scripts -->

        <script src="https://code.jquery.com/jquery-3.1.1.min.js"
            integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
            crossorigin="anonymous"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.4.4/fuse.min.js"></script>

        <script src="{% static 'js/search.js' %}"></script>
        <script src="{% static 'js/fetch.js' %}"></script>
    </body>
</html>
