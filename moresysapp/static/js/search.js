var list = [{"movie":"The Shawshank Redemption"},{"movie":"The Godfather"},{"movie":"The Godfather: Part II"},{"movie":"The Dark Knight"},{"movie":"12 Angry Men"},{"movie":"Schindler's List"},{"movie":"The Lord of the Rings: The Return of the King"},{"movie":"Pulp Fiction"},{"movie":"The Good, the Bad and the Ugly"},{"movie":"Fight Club"},{"movie":"The Lord of the Rings: The Fellowship of the Ring"},{"movie":"Forrest Gump"},{"movie":"Star Wars: Episode V - The Empire Strikes Back"},{"movie":"Inception"},{"movie":"The Lord of the Rings: The Two Towers"},{"movie":"One Flew Over the Cuckoo's Nest"},{"movie":"Goodfellas"},{"movie":"The Matrix"},{"movie":"Seven Samurai"},{"movie":"Se7en"},{"movie":"City of God"},{"movie":"Star Wars: Episode IV - A New Hope"},{"movie":"The Silence of the Lambs"},{"movie":"It's a Wonderful Life"},{"movie":"Life Is Beautiful"},{"movie":"Spirited Away"},{"movie":"Saving Private Ryan"},{"movie":"The Usual Suspects"},{"movie":"Léon: The Professional"},{"movie":"The Green Mile"},{"movie":"Interstellar"},{"movie":"Psycho"},{"movie":"American History X"},{"movie":"City Lights"},{"movie":"Casablanca"},{"movie":"Once Upon a Time in the West"},{"movie":"Modern Times"},{"movie":"The Pianist"},{"movie":"Spider-Man: Into the Spider-Verse"},{"movie":"The Intouchables"},{"movie":"The Departed"},{"movie":"Back to the Future"},{"movie":"Terminator 2: Judgment Day"},{"movie":"Whiplash"},{"movie":"Rear Window"},{"movie":"The Lion King"},{"movie":"Raiders of the Lost Ark"},{"movie":"Gladiator"},{"movie":"The Prestige"},{"movie":"Apocalypse Now"},{"movie":"Memento"},{"movie":"Alien"},{"movie":"Grave of the Fireflies"},{"movie":"Cinema Paradiso"},{"movie":"The Great Dictator"},{"movie":"Sunset Boulevard"},{"movie":"The Lives of Others"},{"movie":"Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb"},{"movie":"Paths of Glory"},{"movie":"Avengers: Infinity War"},{"movie":"The Shining"},{"movie":"Django Unchained"},{"movie":"WALL·E"},{"movie":"Princess Mononoke"},{"movie":"Witness for the Prosecution"},{"movie":"Oldboy"},{"movie":"The Dark Knight Rises"},{"movie":"Aliens"},{"movie":"American Beauty"},{"movie":"Once Upon a Time in America"},{"movie":"Coco"},{"movie":"Das Boot"},{"movie":"Citizen Kane"},{"movie":"Braveheart"},{"movie":"Vertigo"},{"movie":"North by Northwest"},{"movie":"Reservoir Dogs"},{"movie":"Star Wars: Episode VI - Return of the Jedi"},{"movie":"Your Name."},{"movie":"M"},{"movie":"Amadeus"},{"movie":"Requiem for a Dream"},{"movie":"Dangal"},{"movie":"3 Idiots"},{"movie":"Taare Zameen Par"},{"movie":"2001: A Space Odyssey"},{"movie":"Lawrence of Arabia"},{"movie":"Eternal Sunshine of the Spotless Mind"},{"movie":"Toy Story"},{"movie":"A Clockwork Orange"},{"movie":"Amélie"},{"movie":"Double Indemnity"},{"movie":"Singin' in the Rain"},{"movie":"Taxi Driver"},{"movie":"Inglourious Basterds"},{"movie":"Full Metal Jacket"},{"movie":"Bicycle Thieves"},{"movie":"To Kill a Mockingbird"},{"movie":"The Kid"},{"movie":"Good Will Hunting"},{"movie":"The Sting"},{"movie":"Toy Story 3"},{"movie":"The Hunt"},{"movie":"Snatch"},{"movie":"Scarface"},{"movie":"For a Few Dollars More"},{"movie":"Monty Python and the Holy Grail"},{"movie":"The Apartment"},{"movie":"Metropolis"},{"movie":"L.A. Confidential"},{"movie":"A Separation"},{"movie":"Indiana Jones and the Last Crusade"},{"movie":"Rashomon"},{"movie":"Up"},{"movie":"All About Eve"},{"movie":"Batman Begins"},{"movie":"Yojimbo"},{"movie":"Some Like It Hot"},{"movie":"Downfall"},{"movie":"Unforgiven"},{"movie":"Die Hard"},{"movie":"The Treasure of the Sierra Madre"},{"movie":"Heat"},{"movie":"Incendies"},{"movie":"Green Book"},{"movie":"Ikiru"},{"movie":"Raging Bull"},{"movie":"The Great Escape"},{"movie":"Children of Heaven"},{"movie":"Pan's Labyrinth"},{"movie":"Chinatown"},{"movie":"My Father and My Son"},{"movie":"My Neighbor Totoro"},{"movie":"The Third Man"},{"movie":"Howl's Moving Castle"},{"movie":"Ran"},{"movie":"Judgment at Nuremberg"},{"movie":"The Secret in Their Eyes"},{"movie":"The Gold Rush"},{"movie":"The Bridge on the River Kwai"},{"movie":"A Beautiful Mind"},{"movie":"Andhadhun"},{"movie":"Lock, Stock and Two Smoking Barrels"},{"movie":"Casino"},{"movie":"The Seventh Seal"},{"movie":"On the Waterfront"},{"movie":"Three Billboards Outside Ebbing, Missouri"},{"movie":"Inside Out"},{"movie":"The Elephant Man"},{"movie":"The Wolf of Wall Street"},{"movie":"V for Vendetta"},{"movie":"Room"},{"movie":"Mr. Smith Goes to Washington"},{"movie":"Warrior"},{"movie":"Blade Runner"},{"movie":"Dial M for Murder"},{"movie":"Wild Strawberries"},{"movie":"No Country for Old Men"},{"movie":"There Will Be Blood"},{"movie":"The General"},{"movie":"Trainspotting"},{"movie":"The Sixth Sense"},{"movie":"Gone with the Wind"},{"movie":"The Thing"},{"movie":"Fargo"},{"movie":"Come and See"},{"movie":"Gran Torino"},{"movie":"Finding Nemo"},{"movie":"The Deer Hunter"},{"movie":"Shutter Island"},{"movie":"The Big Lebowski"},{"movie":"Sherlock Jr."},{"movie":"Kill Bill: Vol. 1"},{"movie":"Cool Hand Luke"},{"movie":"Tokyo Story"},{"movie":"Rebecca"},{"movie":"Mary and Max"},{"movie":"Hacksaw Ridge"},{"movie":"How to Train Your Dragon"},{"movie":"Gone Girl"},{"movie":"Jurassic Park"},{"movie":"Wild Tales"},{"movie":"Neon Genesis Evangelion: The End of Evangelion"},{"movie":"Sunrise"},{"movie":"The Truman Show"},{"movie":"Stalker"},{"movie":"The Grand Budapest Hotel"},{"movie":"In the Name of the Father"},{"movie":"Into the Wild"},{"movie":"Stand by Me"},{"movie":"It Happened One Night"},{"movie":"Platoon"},{"movie":"Life of Brian"},{"movie":"Network"},{"movie":"Memories of Murder"},{"movie":"The Bandit"},{"movie":"Persona"},{"movie":"Ben-Hur"},{"movie":"12 Years a Slave"},{"movie":"Hotel Rwanda"},{"movie":"Million Dollar Baby"},{"movie":"Before Sunrise"},{"movie":"Andrei Rublev"},{"movie":"The Wages of Fear"},{"movie":"Rush"},{"movie":"Mad Max: Fury Road"},{"movie":"Prisoners"},{"movie":"The Passion of Joan of Arc"},{"movie":"The 400 Blows"},{"movie":"Hachi: A Dog's Tale"},{"movie":"Spotlight"},{"movie":"Logan"},{"movie":"Amores Perros"},{"movie":"Catch Me If You Can"},{"movie":"The Princess Bride"},{"movie":"Nausicaä of the Valley of the Wind"},{"movie":"Harry Potter and the Deathly Hallows: Part 2"},{"movie":"Rang De Basanti"},{"movie":"Butch Cassidy and the Sundance Kid"},{"movie":"Rocky"},{"movie":"Barry Lyndon"},{"movie":"Monsters, Inc."},{"movie":"The Grapes of Wrath"},{"movie":"Dead Poets Society"},{"movie":"The Maltese Falcon"},{"movie":"The Terminator"},{"movie":"Gandhi"},{"movie":"Donnie Darko"},{"movie":"Diabolique"},{"movie":"La Haine"},{"movie":"The Handmaiden"},{"movie":"In the Mood for Love"},{"movie":"Groundhog Day"},{"movie":"The Wizard of Oz"},{"movie":"The Help"},{"movie":"Jaws"},{"movie":"The Nights of Cabiria"},{"movie":"Before Sunset"},{"movie":"Paris, Texas"},{"movie":"Castle in the Sky"},{"movie":"The Best Years of Our Lives"},{"movie":"Guardians of the Galaxy"},{"movie":"Pirates of the Caribbean: The Curse of the Black Pearl"},{"movie":"Beauty and the Beast"},{"movie":"Gangs of Wasseypur"},{"movie":"8½"},{"movie":"Chungking Express"},{"movie":"Three Colors: Red"},{"movie":"The Exorcist"},{"movie":"Fanny and Alexander"}];

var options = {
    id: "movie",
    shouldSort: true,
    tokenize: true,
    threshold: 0.9,
    location: 0,
    distance: 100,
    maxPatternLength: 32,
    minMatchCharLength: 1,
    keys: [
        "movie"
    ]
    };

var current_data = '';
function search() {
    var query = document.getElementById('nameField').value;
    if(current_data == query)
        return;
    current_data = query;
    var fuse = new Fuse(list, options);
    var result = fuse.search(query);
    
    var resultEle = document.getElementById('results');
    resultEle.innerHTML = '';

    for (var i = 0; i < Math.min(10, result.length); i++) {
        const ele = document.createElement('option');
        ele.setAttribute('value', result[i]);
        resultEle.appendChild(ele);
    }
    return result;
}
